{"version":3,"names":[],"mappings":"","sources":["changePassword/changePassword.ts"],"sourcesContent":["//our root app component\r\nimport {Component} from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport {ChangePasswordService} from '../changePassword/changePassword-service';\r\nimport { SpinnerService } from '../common/services/spinner-service';\r\nimport { ProviderService } from '../common/services/provider-service';\r\nimport { Provider } from '../dto/provider';\r\n\r\n@Component({\r\n    templateUrl: 'app/changePassword/changePassword.tmpl.html'\r\n})\r\n\r\nexport class ChangePasswordComponent {\r\n    email: string;\r\n    password: string;\r\n    confirmPassword: string;\r\n    message: string;\r\n    token: string;\r\n    condition: boolean;\r\n    coachImage: string;\r\n    provider: Provider;\r\n    constructor(private router: Router,\r\n        private route: ActivatedRoute,\r\n        private changePasswordService: ChangePasswordService,\r\n        private spinnerService: SpinnerService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n        this.route.queryParams.forEach((params: Params) => {\r\n            this.token = params['t'];\r\n            console.log(\"token = \" + this.token);\r\n        });\r\n        this.condition = false;\r\n    }\r\n\r\n    onChangePassword(ev) {\r\n        this.spinnerService.postStatus(\"Logging in\");\r\n\r\n        this.changePasswordService.changePassword(this.email, this.password, this.token).subscribe(\r\n            res => {\r\n                if (res.success) {\r\n                    this.condition = true;\r\n                    \r\n                }\r\n                else {\r\n                    console.log(res.responseMessage)\r\n                    this.message = \"Uh oh!  You did not enter a valid email.  Please try again.\"; //res.responseMessage //coming soon fancy message service\r\n                }\r\n            },\r\n            error => { }, //already logged in service\r\n            () => { this.spinnerService.finishCurrentStatus(); }\r\n        );\r\n\r\n    }\r\n\r\n}\r\n"],"file":"changePassword/changePassword.ts","sourceRoot":"/source/"}